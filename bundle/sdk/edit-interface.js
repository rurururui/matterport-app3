/*! SDK Edit Interface v25.4.4_webgl-545-g439ad6cebe */var e,t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},n={};t.d(n,{m:()=>j}),function(e){e.POSTMESSAGE="postmessage",e.DIRECT="direct",e.WEBSOCKET="websocket"}(e||(e={}));const o="async-injection:INJECTABLE",r="async-injection:INJECT",a="async-injection:POSTCONSTRUCT_SYNC",i="async-injection:POSTCONSTRUCT_ASYNC";function s(e){let t;return e&&(t=e.name,!t&&e.constructor&&(t=e.constructor.name)),t}function c(e){return`index-${e}`}function l(e,t,n){const o=function(e,t,n){if(!function(e){return!("function"!=typeof e||!e.hasOwnProperty("prototype"))&&e.prototype.constructor===e}(t))throw new Error("@"+e+" is not valid here ["+s(t)+"]");return c(n)}(e,t,n);if(Reflect.hasOwnMetadata(e,t,o))throw new Error("@"+e+" applied multiple times ["+t.constructor.name+"]");return o}function u(){return function(e){if(Reflect.hasOwnMetadata(o,e))throw new Error("@Injectable applied multiple times ["+s(e)+"]");Reflect.defineMetadata(o,!0,e)}}function d(e){return function(t,n,o){if(void 0===e)throw new Error("Undefined id passed to @Inject ["+s(t)+"]");const a=l("Inject",t,o);Reflect.defineMetadata(r,e,t,a)}}function f(){return function(e,t,n){if("object"!=typeof e||"function"!=typeof e.constructor)throw new Error("@PostConstruct not applied to instance method ["+e.toString()+"/"+t.toString()+"]");if(Reflect.hasOwnMetadata(a,e.constructor)||Reflect.hasOwnMetadata(i,e.constructor))throw new Error("@PostConstruct applied multiple times ["+s(e.constructor)+"]");"function"==typeof Reflect.getMetadata("design:returntype",e,t)?Reflect.defineMetadata(i,t,e.constructor):Reflect.defineMetadata(a,t,e.constructor)}}const p=["dev-app.matterport.com","dev-app.matterportvr.cn","qa3-app.matterport.com","qa3-app.matterportvr.cn","gc1-app.matterport.com","my.matterport.com","my.matterportvr.cn","showcase-next.matterport.com","static.matterport.com","static.matterportvr.cn","static.matterport.us","matterport.github.io","127.0.0.1","localhost"];var g,m,h=function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},y=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},R=function(e,t){return function(n,o){t(n,o,e)}};let w=class{constructor(e,t){this.sdk=e,this.roomBound=t}async init(){await this.sdk.addCommandToInterface({namespace:"UI",name:"isRoomBoundsVisible",args:[],sdkTypes:[e.DIRECT],origins:p,varArg:!1},Promise.resolve({validateInput:e=>e,exec:async()=>this.roomBound.getAllowRendering()}));const t={validateInput:function(e){if("boolean"!=typeof e.enabled)throw new Error("Expected a boolean");return e},exec:async e=>{const n=t.validateInput(e);this.roomBound.setAllowRendering(n.enabled)}};await this.sdk.addCommandToInterface({namespace:"UI",name:"toggleRoomBounds",args:["enabled"],sdkTypes:[e.DIRECT],origins:p,varArg:!1},Promise.resolve(t))}};h([f(),y("design:type",Function),y("design:paramtypes",[]),y("design:returntype","function"==typeof(m="undefined"!=typeof Promise&&Promise)?m:Object)],w.prototype,"init",null),w=h([u(),R(0,d("$WorkSdk")),R(1,d("IRoomBoundModule")),y("design:paramtypes",[Object,"function"==typeof(g="undefined"!=typeof RoomBoundModule&&RoomBoundModule)?g:Object])],w);var b=function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},O=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(e,t){return function(n,o){t(n,o,e)}};let D=class{constructor(e,t,n){this.sdk=e,this.toolsModule=t,this.pluginConfigDataModule=n}init(){const t=Promise.resolve({getData:()=>{const e=this.toolsModule.toolsData.activeToolName;return e?e.slice(0):null},subscribe:e=>{const t=()=>{e.dirty=!0};return this.toolsModule.toolsData.onPropertyChanged("activeToolName",t),{cancel:()=>{this.toolsModule.toolsData.removeOnPropertyChanged("activeToolName",t)},renew:()=>{this.toolsModule.toolsData.onPropertyChanged("activeToolName",t)}}}});this.sdk.addObservableToInterface({namespace:"UI",name:"currentPanel",sdkTypes:[e.DIRECT],origins:p},t);const n=Promise.resolve({getData:()=>{const e=this.pluginConfigDataModule.pluginConfigData.currentlyConfiguring.value;return JSON.parse(JSON.stringify(e))},subscribe:e=>{const t=()=>{e.dirty=!0};return this.pluginConfigDataModule.pluginConfigData.currentlyConfiguring.onChanged(t),{cancel:()=>{this.pluginConfigDataModule.pluginConfigData.currentlyConfiguring.removeOnChanged(t)},renew:()=>{this.pluginConfigDataModule.pluginConfigData.currentlyConfiguring.onChanged(t)}}}});this.sdk.addObservableToInterface({namespace:"UI",name:"currentPlugin",sdkTypes:[e.DIRECT],origins:p},n)}};b([f(),O("design:type",Function),O("design:paramtypes",[]),O("design:returntype",void 0)],D.prototype,"init",null),D=b([u(),v(0,d("$WorkSdk")),v(1,d("IToolsModule")),v(2,d("IPluginConfigDataModule")),O("design:paramtypes",[Object,Object,Object])],D);const C=window.navigationStart||Date.now(),E=new WeakMap;var I;!function(e){e[e.ERROR=0]="ERROR",e[e.WARN=1]="WARN",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG"}(I||(I={}));class T{static for(e){let t=E.get(e);if(!t){const n=e.name||e.constructor.name;t=new T(n),E.set(e,t)}return t}constructor(e){this.timers={},this.handlers={[I.DEBUG]:console.debug,[I.INFO]:console.info,[I.WARN]:console.warn,[I.ERROR]:console.error};const t=e.split(new RegExp("/|\\\\"));this.prefix="["+t[t.length-1].replace(".js","")+"]"}message(e){if(T.level>=e&&console){return(this.handlers[e]?this.handlers[e]:console.log).bind(console,this.getPrefix())}return()=>{}}get debug(){return this.message(I.DEBUG)}get devInfo(){return()=>{}}get debugInfo(){return this.debug}get warnError(){return this.warn}get debugWarn(){return this.message(T.level>=I.DEBUG?I.WARN:I.DEBUG)}get info(){return this.message(I.INFO)}get warn(){return this.message(I.WARN)}get error(){return this.message(I.ERROR)}time(e){T.level>=I.DEBUG&&(this.timers[e]=Date.now())}timeEnd(e){if(T.level>=I.DEBUG){const t=this.timers[e];if(!t)return;const n=(Date.now()-t)/1e3;this.debug(e,n+"s")}}getPrefix(){const e=(Date.now()-C)/1e3+"s";return`${this.prefix} ${e}`}}T.level=I.INFO;const P="__workshopLoadedOnce__",M=new T("ws.sdk.interface");async function j(e,t,n,o,r,a,i,s){if(!s.isIdKnown(P,!0))return void M.warnError("Tried to load edit SDK but tracking symbol not registered, skipping...",s);s.bindConstant("$WorkSdk",e),function(e){e.bindClass(w).asSingleton(),e.bindClass(D).asSingleton()}(s),M.debugInfo("Waiting for all modules to be loaded...");const c=Date.now();M.debugInfo("Awaiting WORKSHOP_LOADED..."),s.get(P).then((()=>{M.debugInfo(`WORKSHOP_LOADED: All registered modules loaded in ${Date.now()-c}ms: continue ws-sdk creation...`),s.resolveSingletons()}))}var S=n.m;export{S as setup};